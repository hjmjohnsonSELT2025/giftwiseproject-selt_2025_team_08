<div class="events-container">
  <h1>Events</h1>

  <div class="events-toolbar">
    <%= form_with url: events_path, method: :get, local: true do |f| %>
      <%= f.text_field :q, placeholder: "Search Events", class: "events-search" %>
    <% end %>

    <%= button_to "Add Event", new_event_path, method: :get, class: "button add-event" %>
  </div>

  <div class="events-list">
    <% if @events.present? %>
      <ul>
        <% @events.each do |event| %>
          <li class="event-item">
            <strong><%= event.name %></strong>
            <% if event.start_at && event.end_at %>
              <span class="event-dates">(
                <%= l(event.start_at, format: :short) %> -
                <%= l(event.end_at, format: :short) %>
              )</span>
            <% end %>
            <% if event.location.present? %>
              <span class="event-location">@ <%= event.location %></span>
            <% end %>
            <% if event.description.present? %>
              <div class="event-description"><%= simple_format(h(event.description)) %></div>
            <% end %>
            <div class="event-actions">
              <%= button_to 'View', event_path(event), method: :get, class: 'button view-event' %>
              <% if event.creator_id == current_user.id %>
                <%= button_to 'Edit', edit_event_path(event), method: :get, class: 'button edit-event' %>
              <% end %>
            </div>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p class="no-events">No events yet.</p>
    <% end %>
  </div>
</div>
