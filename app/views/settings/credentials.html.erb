<div style="background-color: #1a1a1a; min-height: 100vh; padding: 2rem 0;">
  <div class="container" style="max-width: 800px;">
    <h1 style="color: #e5e5e5; margin-bottom: 2rem;">Change Email or Password</h1>

    <div style="background-color: #2a2a2a; padding: 2rem; border: 1px solid #444; border-radius: 8px;">
      <%= form_with model: @user, url: credentials_settings_path, method: :patch, local: true do |f| %>
        <% if @user.errors.any? %>
          <div style="background-color: #8b0000; color: #fff; padding: 1rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <h2 style="margin-top: 0;"><%= pluralize(@user.errors.count, "error") %> prohibited changes from being saved:</h2>
            <ul style="margin: 0.5rem 0 0 1.5rem;">
              <% @user.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <fieldset style="border: 1px solid #444; padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem; background-color: #1a1a1a;">
          <legend style="color: #667eea; font-weight: bold; padding: 0 10px;">Account</legend>

          <div style="margin-bottom: 1rem;">
            <%= f.label :email, style: "color: #e5e5e5; display: block; margin-bottom: 0.5rem;" %>
            <%= f.email_field :email, required: true, placeholder: "you@example.com", style: "width: 100%; padding: 0.5rem; background-color: #2a2a2a; color: #e5e5e5; border: 1px solid #444; border-radius: 4px;" %>
          </div>

          <div style="margin-bottom: 1rem;">
            <%= label_tag :current_password, 'Current password (required to change email or password)', style: "color: #e5e5e5; display: block; margin-bottom: 0.5rem;" %>
            <%= password_field_tag :current_password, nil, autocomplete: 'current-password', style: "width: 100%; padding: 0.5rem; background-color: #2a2a2a; color: #e5e5e5; border: 1px solid #444; border-radius: 4px;" %>
          </div>

          <div style="margin-bottom: 1rem;">
            <%= f.label :password, 'New password (leave blank to keep current)', style: "color: #e5e5e5; display: block; margin-bottom: 0.5rem;" %>
            <%= f.password_field :password, autocomplete: 'new-password', style: "width: 100%; padding: 0.5rem; background-color: #2a2a2a; color: #e5e5e5; border: 1px solid #444; border-radius: 4px;" %>
          </div>

          <div style="margin-bottom: 0;">
            <%= f.label :password_confirmation, 'Confirm new password', style: "color: #e5e5e5; display: block; margin-bottom: 0.5rem;" %>
            <%= f.password_field :password_confirmation, autocomplete: 'new-password', style: "width: 100%; padding: 0.5rem; background-color: #2a2a2a; color: #e5e5e5; border: 1px solid #444; border-radius: 4px;" %>
          </div>
        </fieldset>

        <div style="display: flex; gap: 1rem; margin-top: 2rem;">
          <%= f.submit "Save Changes", class: "btn btn-primary", style: "background-color: #667eea; color: white; padding: 0.5rem 1.5rem; border: none; border-radius: 4px; cursor: pointer; flex: 1;" %>
          <%= link_to "Back to Settings", settings_path, class: "btn btn-secondary", style: "background-color: #444; color: #e5e5e5; padding: 0.5rem 1.5rem; border: 1px solid #555; border-radius: 4px; cursor: pointer; text-decoration: none; text-align: center; flex: 1;" %>
        </div>
      <% end %>
    </div>
  </div>
</div>
